<html lang="en"><head>
<title>GNU Backgammon</title>
<meta http-equiv="Content-Type" content="text/html">
</head><body>
<h1><a name="Top"></a><a name="TOC_0"></a>GNU Backgammon</h1>

<p>This manual describes how to use GNU Backgammon to play and analyse
backgammon games and matches.  It corresponds to version 0.02
(updated in February, 2000).

<ul>
<li><a href="#Introduction">Introduction</a>: :                What GNU Backgammon does.

<li><a href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>: :      The rules of the game.

<li><a href="#Sample%20Game">Sample Game</a>: :                 An example of how to play against gnubg.

<li><a href="#Invocation">Invocation</a>: :                  Starting and leaving gnubg.

<li><a href="#Basic%20Commands">Basic Commands</a>: :              Fundamental operations in gnubg.

<li><a href="#Playing">Playing</a>: :                     gnubg's game playing features.

<li><a href="#Analysis">Analysis</a>: :                    Using gnubg to evaluate positions.

<li><a href="#Databases">Databases</a>: :                   Storing information about positions.

<li><a href="#Training">Training</a>: :                    Modifying gnubg's neural nets.

<li><a href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>: :  Brief answers to things you might ask.

<li><a href="#Command%20Index">Command Index</a>: :               A summary of all the gnubg commands.

<li><a href="#Concept%20Index">Concept Index</a>: :               Index of concepts described in this manual. 
</ul>

<p><hr>
Node:Introduction, Next:<a rel=next href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>, Previous:<a rel=previous href="#Top">Top</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Introduction"></a><a name="TOC_1"></a>Introduction</h1>

<p>GNU Backgammon (gnubg) plays and analyses backgammon games and matches.

<p>FIXME update this section (latest version is on web page).

<p>It is currently a work-in-progress.  So far it is able to play cubeless
games and tournament matches, evaluate and roll out positions, tune its
own evaluation functions using either TD or supervised training,
maintain databases of positions for training and other purposes, and
more.

<p>It is driven by a command-line interface, and displays an ASCII
rendition of a board on text-only terminals, but also allows the user to
play games and manipulate positions with an X11 board window where
available.

<p>Plans for the future include completing its ability to play and analyse
cubeful games and matches, and making it extensible on platforms where
Guile is available, so that the user can program it to answer
sophisticated questions like "How many chequers must Black have borne
off in positions like this one to be able to accept a double?" and
automate complicated rollout tasks.

<p>It currently plays at about the level of a strong intermediate flight
tournament player (rated in the mid 1700s on
<a href="http://www.fibs.com/">FIBS</a>,
the First Internet Backgammon Server -- around the 90th percentile) and
is gradually improving; it should be somewhat stronger than this when
released.  Since almost all of the CPU time required during supervised
training is spent performing rollouts, and rollouts can easily be
performed in parallel, it is hoped that users will be able to pool
rollout results and collectively train it to a level stronger than any
individual could obtain.

<p>If you can tolerate the rough edges, periodic snapshots of gnubg and
anonymous CVS access to the pre-release source are being made available. 
You can also compete against recent versions of gnubg on FIBS; it
plays there under the names <code>gnu</code> and <code>mgnutest</code>.

<p><hr>
Node:How to Play Backgammon, Next:<a rel=next href="#Sample%20Game">Sample Game</a>, Previous:<a rel=previous href="#Introduction">Introduction</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="How%20to%20Play%20Backgammon"></a><a name="TOC_2"></a>How to Play Backgammon</h1>

<p>The rules presented in this chapter were written by Tom Keith for the
<a href="http://www.bkgm.com/">Backgammon Galore web site</a>, and are included
here with his permission.

<ul>
<li><a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>: :         How to play the board game.

<li><a href="#Match%20Play">Match Play</a>: :                  Special rules used in tournament matches. 
</ul>

<p><hr>
Node:Rules of Backgammon, Next:<a rel=next href="#Match%20Play">Match Play</a>, Up:<a rel=up href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>
<p>

<h2><a name="Rules%20of%20Backgammon"></a><a name="TOC_3"></a>Rules of Backgammon</h2>

<h3><a name="TOC_4"></a>Setup</h3>

<p>Backgammon is a game for two players, played on a board consisting of
twenty-four narrow triangles called <dfn>points</dfn>. 
The triangles alternate in color and are grouped into four quadrants of
six triangles each. 
The quadrants are referred to as a player's
<dfn>home board</dfn> and
<dfn>outer board</dfn>, and the opponent's home board and outer board. 
The home and outer boards are separated from each other by a ridge down
the center of the board called the
<dfn>bar</dfn>.

<p><table><tr align=left><td><img src="rulfig1.png" alt="rulfig1.png"> <td><strong>Figure 1.</strong>  A board with the checkers
in their initial position.

<p>An alternate arrangement is the reverse of the one shown here, with the
home board on the left and the outer board on the right.
<br></tr></table>

<p>The points are numbered for either player starting in that player's home
board. 
The outermost point is the twenty-four point, which is also the opponent's
one point. 
Each player has fifteen checkers of his own color. 
The initial arrangement of checkers is:
two on each player's twenty-four point, five on each player's thirteen point,
three on each player's eight point, and five on each player's six point.

<p>Both players have their own pair of dice and a dice cup used for shaking. 
A <dfn>doubling cube</dfn>, with the numerals 2, 4, 8, 16, 32, and 64 on its
faces, is used to keep track of the current stake of the game.

<h3><a name="TOC_5"></a>Object of the Game</h3>

<p>The object of the game is for a player to move all of his checkers into
his own home board and then bear them off. 
The first player to bear off all of his checkers wins the game.

<p><table><tr align=left><td><img src="rulfig2.png" alt="rulfig2.png"> <td><strong>Figure 2.</strong>  Direction of movement of
White's checkers.  Red's checkers move in the opposite direction.
<br></tr></table>

<h3><a name="TOC_6"></a>Movement of the Checkers</h3>

<p>To start the game, each player throws a single die. 
This determines both the player to go first and the numbers to be played. 
If equal numbers come up, then both players roll again until they roll
different numbers. 
The player throwing the higher number now moves his checkers according to
the numbers showing on both dice. 
After the first roll, the players throw two dice and alternate turns.

<p>The roll of the dice indicates how many points, or <dfn>pips</dfn>,
the player is to move his checkers. 
The checkers are always moved forward, to a lower-numbered point. 
The following rules apply:

<ol type=1 start=1>
</p><li>A checker may be moved only to an <dfn>open point</dfn>, one that is not
occupied by two or more opposing checkers.

<li>The numbers on the two dice constitute separate moves. 
For example, if a player rolls 5 and 3, he may move one checker five
spaces to an open point and another checker three spaces to an open
point, or he may move the one checker a total of eight spaces to an
open point, but only if the intermediate point (either three or five
spaces from the starting point) is also open.

<p><table><tr align=left><td><img src="rulfig3.png" alt="rulfig3.png"> <td><strong>Figure 3.</strong>  Two ways that White can
play a roll of 53.
<br></tr></table>

<li>A player who rolls doubles plays the numbers shown on the dice twice. 
A roll of 6 and 6 means that the player has four sixes to use, and he
may move any combination of checkers he feels appropriate to complete
this requirement.

<li>A player must use both numbers of a roll if this is legally possible
(or all four numbers of a double). 
When only one number can be played, the player must play that number. 
Or if either number can be played but not both, the player must play
the larger one. 
When neither number can be used, the player loses his turn. 
In the case of doubles, when all four numbers cannot be played, the
player must play as many numbers as he can.
</ol>

<h3><a name="TOC_7"></a>Hitting and Entering</h3>

<p>A point occupied by a single checker of either color is called a
<dfn>blot</dfn>.  If an opposing checker lands on a blot, the blot is <dfn>hit</dfn>
and placed on the bar.

<p>Any time a player has one or more checkers on the bar, his first obligation
is to
<dfn>enter</dfn> those checker(s) into the opposing home board. 
A checker is entered by moving it to an open point corresponding to one of
the numbers on the rolled dice.

<p>For example, if a player rolls 4 and 6, he may enter a checker
onto either the opponent's four point or six point, so long as the
prospective point is not occupied by two or more of the opponent's checkers.

<p><table><tr align=left><td><img src="rulfig4.png" alt="rulfig4.png"> <td><strong>Figure 4.</strong>  If White rolls 64 with a
checker on the bar, he must enter the checker onto Red's four point
since Red's six point is not open.
<br></tr></table>

<p>If neither of the points is open, the player loses his turn. 
If a player is able to enter some but not all of his checkers, he must enter
as many as he can and then forfeit the remainder of his turn.

<p>After the last of a player's checkers has been entered, any unused numbers
on the dice must be played, by moving either the checker that was entered
or a different checker.

<h3><a name="TOC_8"></a>Bearing Off</h3>

<p>Once a player has moved all of his fifteen checkers into his home board,
he may commence <dfn>bearing off</dfn>. 
A player bears off a checker by rolling a number that corresponds to the
point on which the checker resides, and then removing that checker from
the board. 
Thus, rolling a 6 permits the player to remove a checker from the six point.

<p>If there is no checker on the point indicated by the roll, the player
must make a legal move using a checker on a higher-numbered point. 
If there are no checkers on higher-numbered points, the player is
permitted (and required) to remove a checker from the highest point on
which one of his checkers resides. 
A player is under no obligation to bear off if he can make an otherwise
legal move.

<p><table><tr align=left><td><img src="rulfig5.png" alt="rulfig5.png"> <td><strong>Figure 5.</strong>  White rolls 64 and bears
off two checkers.
<br></tr></table>

<p>A player must have all of his active checkers in his home board in order
to bear off. 
If a checker is hit during the bear-off process, the player must bring
that checker back to his home board before continuing to bear off. 
The first player to bear off all fifteen checkers wins the game.

<h3><a name="TOC_9"></a>Doubling</h3>

<p>Backgammon is played for an agreed stake per point. 
Each game starts at one point. 
During the course of the game, a player who feels he has a sufficient
advantage may propose doubling the stakes. 
He may do this only at the start of his own turn and before he has rolled
the dice.

<p>A player who is offered a double may <dfn>refuse</dfn>, in which case he
concedes the game and pays one point. 
Otherwise, he must <dfn>accept</dfn> the double and play on for the new higher
stakes. 
A player who accepts a double becomes the
<dfn>owner of the cube</dfn> and only he may make the next double.

<p>Subsequent doubles in the same game are called <dfn>redoubles</dfn>. 
If a player refuses a redouble, he must pay the number of points that were
at stake prior to the redouble. 
Otherwise, he becomes the new owner of the cube and the game continues
at twice the previous stakes. 
There is no limit to the number of redoubles in a game.

<h3><a name="TOC_10"></a>Gammons and Backgammons</h3>

<p>At the end of the game, if the losing player has borne off at least one
checker, he loses only the value showing on the doubling cube (one point,
if there have been no doubles). 
However, if the loser has <em>not</em> borne off any of his checkers,
he is <dfn>gammoned</dfn> and loses <em>twice</em> the value of the doubling cube. 
Or, worse, if the loser has not borne off any of his checkers and still has
a checker on the bar or in the winner's home board, he is <dfn>backgammoned</dfn>
and loses <em>three times</em> the value of the doubling cube.

<h3><a name="TOC_11"></a>Optional Rules</h3>

<p>The following optional rules are in widespread use.

<dl>
<dt><dfn>Automatic doubles</dfn>
<dd>If identical numbers are thrown on the first roll, the stakes are doubled. 
The doubling cube is turned to 2 and remains in the middle. 
Players usually agree to limit the number of automatic doubles to one per game.

<br><dt><dfn>Beavers</dfn>
<dd>When a player is doubled, he may immediately redouble (beaver) while
retaining possession of the cube. 
The original doubler has the option of accepting or refusing as with a
normal double.

<br><dt><dfn>The Jacoby Rule</dfn>
<dd>Gammons and backgammons count only as a single game if neither player has
offered a double during the course of the game. 
This rule speeds up play by eliminating situations where a player avoids
doubling so he can play on for a gammon. 
</dl>

<h3><a name="TOC_12"></a>Irregularities</h3>

<ol type=1 start=1>
</p><li>The dice must be rolled together and land flat on the surface of the
right-hand section of the board. 
The player must reroll both dice if a die lands outside the right-hand
board, or lands on a checker, or does not land flat.

<li>A turn is completed when the player picks up his dice. 
If the play is incomplete or otherwise illegal, the opponent has the option
of accepting the play as made or of requiring the player to make a legal play. 
A play is deemed to have been accepted as made when the opponent rolls his
dice or offers a double to start his own turn.

<li>If a player rolls before his opponent has completed his turn by picking up
the dice, the player's roll is voided. 
This rule is generally waived any time a play is forced or when there is no
further contact between the opposing forces.
</ol>

<p><hr>
Node:Match Play, Previous:<a rel=previous href="#Rules%20of%20Backgammon">Rules of Backgammon</a>, Up:<a rel=up href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>
<p>

<h2><a name="Match%20Play"></a><a name="TOC_13"></a>Rules for Match Play</h2>

<p>When backgammon tournaments are held to determine an overall winner,
the usual style of competition is <dfn>match play</dfn>. 
Competitors are paired off, and each pair plays a series of games to decide
which player progresses to the next round of the tournament. 
This series of games is called a <dfn>match</dfn>.

<p>Matches are played to a specified number of points. 
The first player to accumulate the required points wins the match. 
Points are awarded in the usual manner:
one for a single game, two for a gammon, and three for a backgammon. 
The doubling cube is used, so the winner receives the value of the game
multiplied by the final value of the doubling cube.

<p>Matches are normally played using the
<dfn>Crawford rule</dfn>. 
The Crawford rule states that if one player reaches a score one point short
of the match, neither player may offer a double in the immediately following
game. 
This one game without doubling is called the Crawford game. 
Once the Crawford game has been played, if the match has not yet been decided, the doubling
cube is active again.

<center><table width=406 border=0 cellspacing=0 cellpadding=1>
<tr><td colspan=2><font face="Arial,Helvetica"><b>Match to 5</b></font></td>    <td align=center><font size=2 face="Arial,Helvetica"><b>&nbsp;White&nbsp;</b></font></td>       <td align=center><font size=2 face="Arial,Helvetica"><b>&nbsp;Black&nbsp;</b></font></td><tr>
<tr><td colspan=6><img src="bar.png" border=0 width=402 height=3></td></tr>
<tr><td><b>Game 1:&nbsp;&nbsp;</b></td><td>White wins 2 points&nbsp;&nbsp;</td> <td align=center>2</td>         <td align=center>0</td> <td rowspan=3 valign=center><img src="rbrace3.png" width=9 height=52></td><td rowspan=3 valign=center><font size=2 face="Arial,Helvetica">&nbsp;Doubling Allowed</font></td></tr>
<tr><td><b>Game 2:</b></td><td>Black wins 1 point</td>  <td align=center>2</td>         <td align=center>1</td></tr>
<tr><td><b>Game 3:</b></td><td>White wins 2 points</td><td align=center>4</td>          <td align=center>1</td></tr>
<tr bgcolor=FFCC99><td><b>Game 4:</b></td><td>Black wins 1 point</td>   <td align=center>4</td>         <td align=center>2</td>         <td>&nbsp;</td><td><font size=2 face="Arial,Helvetica">&nbsp;Crawford Game</font></td></tr>
<tr><td><b>Game 5:</b></td><td>Black wins 2 points</td><td align=center>4</td>          <td align=center>4</td>         <td rowspan=2 valign=center><img src="rbrace2.png" width=9 height=34></td><td rowspan=2 valign=center><font size=2 face="Arial,Helvetica">&nbsp;Doubling Allowed</font></td></tr>
<tr><td><b>Game 6:</b></td><td>White wins 2 points</td><td align=center>6</td>          <td align=center>4</td></tr>
<tr><td colspan=6><img src="bar.png" border=0 width=402 height=3></td></tr>
</table></center>
<blockquote>
In this example, White and Black are playing a 5-point match. 
After three games White has 4 points, which is just one point
short of what he needs. 
That triggers the Crawford rule which says there can be no
doubling in next game, Game 4. 
</blockquote>

<p>There is no bonus for winning more than the required number of points
in match play. 
The sole goal is to win the match, and the size of the victory doesn't matter.

<p>Automatic doubles, beavers, and the Jacoby rule are not used in match play.

<p><hr>
Node:Sample Game, Next:<a rel=next href="#Invocation">Invocation</a>, Previous:<a rel=previous href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Sample%20Game"></a><a name="TOC_14"></a>Sample Game</h1>

<p>Although GNU Backgammon has many commands and options, only a few of them
are used during routine play.  This chapter demonstrates some of those
most commonly used.

<p>If your gnubg installation is complete, you should be able to start it
and see output similar to the following:

<pre>GNU Backgammon 0.02  Copyright 1999 Gary Wong.
GNU Backgammon is free software, covered by the GNU General Public
License, and you are welcome to change it and/or distribute copies
of it under certain conditions.  Type "show copying" to see the
conditions.
There is absolutely no warranty for GNU Backgammon.  Type "show
warranty" for details.
(No game)
</pre>

<p>When you start a game, gnubg will (by default) show which player's move it
is; it is displaying <code>(No game)</code> at the moment to indicate that it
isn't anybody's turn.

<p>GNU Backgammon uses a pseudo-random number generator to produce dice
rolls.  It will normally initialise the state of the generator to
some value based on the current time (and perhaps other system information,
depending what features are available on your platform).  But for purposes
of this example, it will be better to start the generator from a known
state, so that the rolls it generates will be repeatable.  Enter the
following command to change the generator state ("seed"):

<pre>(No game) set seed 15
Seed set to 15.
(No game)
</pre>

<p>The default settings allow you to play X (the black pieces, if you have
a graphical board window) and the computer will play O (red).  It will
play with no lookahead by default; it is very fast at choosing moves
in this mode (instantaneous, on most hardware) though it does not play
at its full strength.  Let's start a game.

<pre>(No game) new game
O rolls 1, X rolls 3.
 GNU Backgammon  Position ID: 4HPwATDgc/ABMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    |   | O              X |
 | X           O    |   | O              X |
 | X           O    |   | O                |
 | X                |   | O                |
 | X                |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   | X                |
 | O                |   | X                |
 | O           X    |   | X                |
 | O           X    |   | X              O |
 | O           X    |   | X              O |     Rolled 13
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>This is the output you will see if a graphical board is unavailable or
disabled; if your environment supports a graphical board, you will see a
better representation of a backgammon board than this.  Exactly the
same information is available, either way.

<p>You have just won the opening roll (you have a 3, and gnubg has a 1) -- the
dice roll is in the bottom right hand corner for the TTY board, or shown
as graphical dice on the right hand side of the board window.  The
position ID (the <code>4HPwATDgc/ABMA</code> in this example) is an encoded
representation of the current position.  It comes in useful when using
some of gnubg's advanced commands, but you can safely ignore it for now. 
Notice that the prompt has changed to <code>(X)</code>, to indicate that it
is X's (your) turn.

<p>If you are familiar with backgammon, you will know that the best play
for this roll is to make your 5 point.  The command to do that is:

<pre>(X) 8 5 6 5
</pre>

<p>in the terminal window (i.e. move one chequer from your 8 point to your 5
point, and move another from your 6 to your 5 point); or by dragging
each chequer to the destination point with mouse button 1 in the board
window.  Click mouse button 1 on the dice to indicate you have finished
your move (just as you would pick up your dice to end your move if you
were playing on a real board).

<p>Once you have done that, gnubg will take its turn, rolling 63 and playing
24/15.  It is now your move again:

<pre> GNU Backgammon  Position ID: 4HPwCSCwZ/ABMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    |   | O              X |
 | X           O    |   | O              X |
 | X           O    |   | O                |
 | X                |   | O                |
 | X                |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   |                  |
 | O                |   | X                |
 | O                |   | X                |
 | O           X    |   | X  X             |
 | O     O     X    |   | X  X           O |     On roll
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>Since it is no longer the opening roll, you have the option of doubling
before rolling your dice.  To roll without doubling, just enter the
command <kbd>roll</kbd> (or <kbd>r</kbd> for short):

<pre>(X) roll
 GNU Backgammon  Position ID: 4HPwCSCwZ/ABMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    |   | O              X |
 | X           O    |   | O              X |
 | X           O    |   | O                |
 | X                |   | O                |
 | X                |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   |                  |
 | O                |   | X                |
 | O                |   | X                |
 | O           X    |   | X  X             |
 | O     O     X    |   | X  X           O |     Rolled 35
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>(You can also roll by clicking the dice just underneath the board
window.)

<p>Let's play this roll by hitting twice: 13/10*, 6/1*.  You can enter this
move with <kbd>13 10 6 1</kbd> -- note that you don't need to specify anything
special to hit; gnubg will automatically move blots that are hit to the
bar.  You can also make this move by dragging chequers in the board window,
of course.

<pre>(X) 13 10 6 1
 GNU Backgammon  Position ID: 4HPwAWBhZ+IBMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    | O | O              X |
 | X           O    | O | O              X |
 | X           O    |   | O                |
 | X                |   | O                |
 |                  |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   |                  |
 | O                |   |                  |
 | O                |   | X                |
 | O           X    |   | X  X             |
 | O     X     X    |   | X  X           X |     On roll
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>GNU Backgammon has rolled 65 and been unable to move.  Let's take another
roll:

<pre>(X) roll
 GNU Backgammon  Position ID: 4HPwAWBhZ+IBMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    | O | O              X |
 | X           O    | O | O              X |
 | X           O    |   | O                |
 | X                |   | O                |
 |                  |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   |                  |
 | O                |   |                  |
 | O                |   | X                |
 | O           X    |   | X  X             |
 | O     X     X    |   | X  X           X |     Rolled 25
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>Play this roll as <kbd>13 11 6 1</kbd>.  gnubg will now roll 16 -- and still
can't move!

<pre> GNU Backgammon  Position ID: 4HPwAWDDZsoBMA
 +13-14-15-16-17-18------19-20-21-22-23-24-+     O
 | X           O    | O | O              X |
 | X           O    | O | O              X |
 | X           O    |   | O                |
 |                  |   | O                |
 |                  |   | O                |
v|                  |BAR|                  |     (Cube: 1)
 | O                |   |                  |
 | O                |   |                  |
 | O                |   |                  |
 | O           X    |   | X  X           X |
 | O  X  X     X    |   | X  X           X |     On roll
 +12-11-10--9--8--7-------6--5--4--3--2--1-+     X

(X)
</pre>

<p>Our position is now strong.  Let's try doubling -- this can be done by
entering the command <kbd>double</kbd> at the prompt, or by clicking the
doubling cube in the board window (FIXME not implemented yet).  When
you are doubled, you should use the command <kbd>take</kbd> or <kbd>drop</kbd>
to accept or refuse the cube.  GNU Backgammon will drop this double
(FIXME actually it doesn't, but it will once it knows how):

<pre>(X) double
O refuses the cube and gives up 1 point.
X wins a single game and 1 points.
The score (after 1 game) is: O 0, X 1.
</pre>

<p>That concludes the example game.  You have seen most of the commands
normally used while playing; others you will need include <kbd>bar</kbd>
when re-entering a hit chequer (e.g. <kbd>bar 20 24 20</kbd>) and
<kbd>off</kbd> to remove a chequer from the board when bearing off
(e.g. <kbd>6 off 5 off</kbd>).

<p>Type <kbd>help</kbd> from within gnubg for a summary of all commands, or
browse the rest of this manual to learn more.  Have fun playing
GNU Backgammon!

<p><hr>
Node:Invocation, Next:<a rel=next href="#Basic%20Commands">Basic Commands</a>, Previous:<a rel=previous href="#Sample%20Game">Sample Game</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Invocation"></a><a name="TOC_15"></a>Starting and Leaving gnubg</h1>

<p>This chapter describes how to run gnubg, and how to end it when you
are finished.

<ul>
<li><a href="#Invoking%20gnubg">Invoking gnubg</a>: :              How to start gnubg.

<li><a href="#Leaving%20gnubg">Leaving gnubg</a>: :               How to end gnubg.

<li><a href="#Shell%20Commands">Shell Commands</a>: :              How to issue shell commands from within gnubg. 
</ul>

<p><hr>
Node:Invoking gnubg, Next:<a rel=next href="#Leaving%20gnubg">Leaving gnubg</a>, Up:<a rel=up href="#Invocation">Invocation</a>
<p>

<h2><a name="Invoking%20gnubg"></a><a name="TOC_16"></a>Invoking gnubg</h2>

<p>Start GNU Backgammon by running the program <kbd>gnubg</kbd>.  Once started, it
will process commands from the terminal.

<p>You can also instruct gnubg to read an existing match from a file, to
play or analyse.  (FIXME actually you can't yet, but you should be able
to.)  To read the match from <var>filename</var>, specify
<kbd>gnubg <var>filename</var></kbd>.

<p>gnubg will give you a short summary of how to invoke it if given the
option <code>--help</code> (<code>-h</code> for short), and report its version
with <code>--version</code> (<code>-v</code>).

<p>GNU Backgammon will normally use a graphical board window under the X
Window System, if possible.  To prevent this behaviour and use standard
terminal output instead, you can specify the <code>--tty</code> option (which
can be abbreviated to <code>-t</code>).

<p><hr>
Node:Leaving gnubg, Next:<a rel=next href="#Shell%20Commands">Shell Commands</a>, Previous:<a rel=previous href="#Invoking%20gnubg">Invoking gnubg</a>, Up:<a rel=up href="#Invocation">Invocation</a>
<p>

<h2><a name="Leaving%20gnubg"></a><a name="TOC_17"></a>Leaving gnubg</h2>

<dl>
<dt><code>exit</code>
<dt><code>quit</code>
<dd>To exit gnubg, use the <kbd>exit</kbd> or <kbd>quit</kbd> commands (they are
synonymous).  If you are currently playing a game, the match in progress
will be lost, so gnubg will ask you if you are sure you want to exit
in this case.  (FIXME it doesn't yet, but it should.) 
</dl>

<p>gnubg will also exit upon end-of-file; you can therefore exit by typing
an end-of-file character (usually <kbd>C-d</kbd>, i.e. hold the &lt;CTRL&gt;
key and press D).

<p>If you send an interrupt sequence (often by pressing <kbd>C-c</kbd>), the
current gnubg command (if any) will be terminated.  This can be useful
if you do not want to wait for a slow command to complete.

<p><hr>
Node:Shell Commands, Previous:<a rel=previous href="#Leaving%20gnubg">Leaving gnubg</a>, Up:<a rel=up href="#Invocation">Invocation</a>
<p>

<h2><a name="Shell%20Commands"></a><a name="TOC_18"></a>Shell Commands</h2>

<p>You can execute shell commands from gnubg without leaving or suspending it.

<dl>
<dt><code>!<var>command</var></code>
<dd>Invoke a subshell to execute <var>command</var>.  The environment variable
<code>SHELL</code> determines which shell to use (gnubg defaults to
<code>/bin/sh</code> if <code>$SHELL</code> is not set).  If <var>command</var> is not
specified, the shell will be invoked.  FIXME not implemented yet. 
</dl>

<p><hr>
Node:Basic Commands, Next:<a rel=next href="#Playing">Playing</a>, Previous:<a rel=previous href="#Invocation">Invocation</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Basic%20Commands"></a><a name="TOC_19"></a>Basic Commands</h1>

<p>There are a few simple commands you can use within GNU Backgammon to
display information you might need to know:

<dl>
<dt><code>help <var>command</var></code>
<dt><code>? <var>command</var></code>
<dd>Describe the commands that gnubg understands.  <code>help</code> by itself
lists the main commands with a one-line description of each; when
<var>command</var> is specified, that command is explained in more detail,
and if it has any subcommands then they are listed in brief.

<p><code>?</code> is a synonym for <code>help</code>. 
<br><dt><code>show copying</code>
<dt><code>show warranty</code>
<dd>These commands are used to show the conditions GNU Backgammon is distributed
under.  FIXME summarise GPL. 
</dl>

<p><hr>
Node:Playing, Next:<a rel=next href="#Analysis">Analysis</a>, Previous:<a rel=previous href="#Basic%20Commands">Basic Commands</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Playing"></a><a name="TOC_20"></a>Playing Backgammon with gnubg</h1>

<p>FIXME introduction

<ul>
<li><a href="#The%20Game">The Game</a>: :                    Commands used during the game.

<li><a href="#Dice">Dice</a>: :                        Controlling dice rolls.

<li><a href="#Computer%20Player">Computer Player</a>: :             Having gnubg make moves.

<li><a href="#Matches%20and%20Sessions">Matches and Sessions</a>: :        Playing series of games.

<li><a href="#Cube">Cube</a>: :                        Using the doubling cube.

<li><a href="#Recording">Recording</a>: :                   Saving games and matches. 
</ul>

<p><hr>
Node:The Game, Next:<a rel=next href="#Dice">Dice</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="The%20Game"></a><a name="TOC_21"></a>Commands Used During the Game</h2>

<dl>
<dt><code>new game</code>
<dd>This command is used to start a game within a match or session.  (Note
that all games are played within matches or sessions; see
<a href="#Matches%20and%20Sessions">Matches and Sessions</a>.  To play a single game, use either a
1 point match or a session lasting for one game, depending whether
you want gammons and the doubling cube to be active.)  <code>new game</code>
will set up the board in the starting position, and roll one die for
each player for the opening move.

<p>If you are in the middle of a game, <code>new game</code> will ask you if
you want to abort the game in progress.  If you do, a new game will
replace the current one (i.e. the partially completed game will have
no effect on the score).  If you want the current game to be scored
for either player, you should use the <code>resign</code> command instead. 
<br><dt><code>move <var>from</var> <var>to</var> <small>...</small></code>
<dt><code><var>from</var> <var>to</var> <small>...</small></code>
<dd>The <code>move</code> command allows you to make chequer plays when it is your
turn.  In its normal form, you should specify pairs of point numbers
indicating the points you want to move a chequer from and to.  Specify
one pair for each chequer you want to move.  (For instance, on an
opening roll of 31, you might use <code>move 8 5 6 5</code> to move two
chequers -- one from your 8 point to your 5 point, and the other from
your 6 point to your 5 point.)  For several example moves, see
<a href="#Sample%20Game">Sample Game</a>.

<p>You should use the words <code>bar</code> and <code>off</code> when moving a chequer
from the bar or bearing it off the board, e.g. <code>move bar 20</code> or
<code>move 3 off</code>.  These words can be abbreviated to <code>b</code> and
<code>o</code> respectively.

<p>If there is only one legal move you can make, then the command <code>move</code>
by itself will make it for you without requiring you to specify it in full. 
Similarly, if there is no play available at all, then <code>move</code> will
end your turn without moving.

<p>As long as you specify at least one pair of points, then the word
<code>move</code> is optional -- the command <code>bar 20 24 20</code> means exactly
the same thing as <code>move bar 20 24 20</code>, for instance.

<p>If you are using the X Window System, you can also move chequers using
the board window.  One way to do this is to use mouse button 1 to drag
a chequer (that is, press the button when the pointer is over the
chequer you wish to move; move the pointer to the point you wish to
play it to, and then release the button).

<p>An alternative is to click buttons 2 or 3 on the chequer; button 2 will
move it by the number of pips showing on the left die, and button 3 will
move it according to the right die.  If you don't like the order the
dice are displayed in, pressing either button 2 or 3 on the dice will
swap their positions.

<p>Whichever method you use to move the chequers, once you have made a legal
move you can end your turn by clicking mouse button 1 on the dice.

<p>FIXME reference set automove and set autobearoff. 
<br><dt><code>resign [<var>type</var>]</code>
<dt><code>agree</code>
<dt><code>accept</code>
<dt><code>decline</code>
<dt><code>reject</code>
<dd>The <code>resign</code> command is used to give up a game without playing it to
completion.  It is often useful during endgame play when the game reaches
a position where it is impossible for one player to win.  If you do not
specify a value <var>type</var>, then the player whose turn it is offers to
give up one game (at the current cube value) to the opponent; you can
also specify <code>1</code>, <code>2</code> or <code>3</code> to resign a single, double
or triple game.  Specifying <code>normal</code>, <code>gammon</code> or
<code>backgammon</code> is also legal, and is identical to expressing the
number of points as a digit.  <code>single</code> is yet another synonym for
one game.

<p>The opponent may accept the resignation with either the <code>agree</code> or
<code>accept</code> commands, but is not obliged to.  To ignore the
resignation and continue play normally, use either the <code>decline</code> or
<code>reject</code> commands.  (<code>accept</code> and <code>reject</code> are also legal
commands in response to a double; see <a href="#Cube">Cube</a>.) 
<br><dt><code>set board <var>id</var></code>
<dd>If you wish to directly set the chequers to a different position, you
can use the <code>set board</code> command.  You need to know the
<dfn>position ID</dfn> of the chequer arrangement you want; position IDs
are always displayed when the board is shown.  (If you are playing
on a text terminal, the position ID is in the upper right hand corner
of the board diagram; when using the X board window, the ID is shown
below the board on the right hand side.)  For instance, to set the
chequers to the starting position, use the command
<code>set board 4HPwATDgc/ABMA</code>.

<p>FIXME add a mode to set the board to an arbitrary position when the user
doesn't know the ID, in the X version at least. 
<br><dt><code>show board [<var>id</var>]</code>
<dd>The <code>show board</code> command is used to display a particular position --
normally the board of the current game, but it is also possible to view
unrelated layouts.  When specified without the optional <var>id</var> parameter,
the current position is displayed.  (When using a text terminal, this
is useful if subsequent output has caused the board diagram to scroll
off the screen.  In the X board window, the command can be used to undo
erroneous chequer plays by resetting the window to the position at the
start of the turn.)

<p>When a position ID <var>id</var> is given, the chequers are arranged into
the position specified and that board is displayed.  Note that this
command affects the display only; the current game is unchanged.  Use
the <code>show board</code> command with no parameter if you want to see
the current game again. 
<br><dt><code>hint</code>
<dd>At any time during the game when the dice have been rolled, you can
use the <code>hint</code> command to see the moves gnubg recommends. 
The output is of the following form:

<pre>Win    W(g)   W(bg)  L(g)   L(bg)  Equity       Move
0.542  0.142  0.008  0.113  0.008  (+0.114)     6/5 8/5
0.505  0.120  0.008  0.122  0.007  (+0.009)     24/23 23/20
0.498  0.126  0.008  0.123  0.007  (+0.000)     24/23 13/10
0.499  0.113  0.008  0.121  0.007  (-0.011)     24/23 24/21
0.486  0.125  0.008  0.120  0.009  (-0.024)     13/10 10/9
0.481  0.116  0.008  0.129  0.008  (-0.051)     6/5 24/21
0.472  0.122  0.008  0.129  0.009  (-0.064)     6/5 13/10
</pre>

<p>The moves are listed in descending order of preference, so in this case,
gnubg recommends the move <code>6/5 8/5</code>.  The first five columns are
its estimates of the probability of the player on roll winning
(<code>Win</code>), winning a gammon (<code>W(g)</code>), winning a backgammon
(<code>W(bg)</code>), losing a gammon (<code>L(g)</code>), and losing a backgammon
(<code>L(bg)</code>) if the game is played to completion without use of the
doubling cube, after the candidate move in that row is
made<a rel=footnote href="#fn-1"><sup>1</sup></a>.  The sixth column,
<code>Equity</code>, is the estimated cubeless equity following the move --
this is the expected number of points per game won by the player on
roll.

<p>gnubg will `look ahead' a certain number of moves when evaluating
the probabilities, according to the search depth set by the
<code>set plies</code> command (see <a href="#Analysis">Analysis</a>). 
<br><dt><code>show pipcount</code>
<dd>Use <code>show pipcount</code> to automatically count the number of `pips'
each player needs to bear off.  Depending on the position, the output
will look something like:

<pre>The pip counts are: X 103, O 112.
</pre>
<dt><code>show player</code>
<br><dt><code>set player <var>name</var> human</code>
<dt><code>set player <var>old-name</var> name <var>new-name</var></code>
<dd>Both players have a certain amount of configuration information; use the
command <code>show player</code> to summarise these settings.  By default,
gnubg will play for player 0, whose name is initially <code>O</code>. 
Player 1 defaults to a human (i.e. gnubg will prompt the user
for a move when it is player 1's turn) whose name is <code>X</code>.

<p>Either player can be set to a human with the command
<code>set player <var>name</var> human</code>, where <var>name</var> is either the number
of the player (0 or 1) or that player's name (initially <code>O</code> and
<code>X</code>).  You can also specify <code>both</code> which will set both players
simultaneously.  There are also options for computer players
(see <a href="#Computer%20Player">Computer Player</a>).

<p>You can change the names of the players with the
<code>set player <var>old-name</var> name <var>new-name</var></code> command.  Again,
either the player numbers or names are valid for the <var>old-name</var>
parameter.  Names may not contain whitespace characters, and may not
be longer than 31 characters.  The names <code>0</code>, <code>1</code> and
<code>both</code> are not permitted, to avoid ambiguities, and the players
may not both share the same name.  Names are not case sensitive. 
<br><dt><code>set turn <var>player</var></code>
<dt><code>show turn</code>
<dd>FIXME
<br><dt><code>set autobearoff</code>
<dt><code>set automove</code>
<dd>FIXME
<br><dt><code>set display</code>
<dd>FIXME
</dl>

<p><hr>
Node:Dice, Next:<a rel=next href="#Computer%20Player">Computer Player</a>, Previous:<a rel=previous href="#The%20Game">The Game</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="Dice"></a><a name="TOC_22"></a>Controlling Dice Rolls</h2>

<dl>
<dt><code>set rng <var>generator</var> [<var>seed</var>]</code>
<dt><code>show rng</code>
<dt><code>roll</code>
<dt><code>set autoroll</code>
<dt><code>set dice <var>pips</var> <var>pips</var></code>
<dd>FIXME
</dl>

<p><hr>
Node:Computer Player, Next:<a rel=next href="#Matches%20and%20Sessions">Matches and Sessions</a>, Previous:<a rel=previous href="#Dice">Dice</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="Computer%20Player"></a><a name="TOC_23"></a>Having gnubg Make Moves</h2>

<dl>
<dt><code>play</code>
<dt><code>set player <var>name</var> gnubg</code>
<dt><code>set player <var>name</var> pubeval</code>
<dt><code>set player <var>name</var> plies <var>depth</var></code>
<dd>FIXME
</dl>

<p><hr>
Node:Matches and Sessions, Next:<a rel=next href="#Cube">Cube</a>, Previous:<a rel=previous href="#Computer%20Player">Computer Player</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="Matches%20and%20Sessions"></a><a name="TOC_24"></a>Matches and Sessions</h2>

<p>This section describes how to use GNU Backgammon to play series of
games, whether those games are part of a match (as in tournament
backgammon) or a session of independent games (conventionally
called "money" play, regardless of whether any money is involved).

<dl>
<dt><code>new match <var>length</var></code>
<dt><code>new session</code>
<dt><code>set autogame</code>
<dt><code>set crawford</code>
<dt><code>set postcrawford</code>
<dt><code>set autocrawford</code>
<dt><code>set jacoby</code>
<dt><code>set autodoubles <var>limit</var></code>
<dt><code>set score <var>points</var> <var>points</var></code>
<dt><code>show crawford</code>
<dt><code>show postcrawford</code>
<dt><code>show jacoby</code>
<dt><code>show score</code>
<dd>FIXME
</dl>

<p><hr>
Node:Cube, Next:<a rel=next href="#Recording">Recording</a>, Previous:<a rel=previous href="#Matches%20and%20Sessions">Matches and Sessions</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="Cube"></a><a name="TOC_25"></a>The Doubling Cube</h2>

<dl>
<dt><code>double</code>
<dt><code>redouble</code>
<dt><code>beaver</code>
<dt><code>take</code>
<dt><code>accept</code>
<dt><code>drop</code>
<dt><code>reject</code>
<dt><code>set cube centre</code>
<dt><code>set cube owner <var>player</var></code>
<dt><code>set cube value <var>points</var></code>
<dd>FIXME
</dl>

<p><hr>
Node:Recording, Previous:<a rel=previous href="#Cube">Cube</a>, Up:<a rel=up href="#Playing">Playing</a>
<p>

<h2><a name="Recording"></a><a name="TOC_26"></a>Saving Games and Matches</h2>

<dl>
<dt><code>save game <var>file</var></code>
<dt><code>save match <var>file</var></code>
<dt><code>load game <var>file</var></code>
<dt><code>load match <var>file</var></code>
<dd>FIXME
</dl>

<p><hr>
Node:Analysis, Next:<a rel=next href="#Databases">Databases</a>, Previous:<a rel=previous href="#Playing">Playing</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Analysis"></a><a name="TOC_27"></a>Using gnubg to Analyse Positions</h1>

<dl>
<dt><code>eval [<var>id</var>]</code>
<dt><code>rollout [<var>id</var>]</code>
<dt><code>set plies <var>depth</var></code>
<dt><code>set cache <var>size</var></code>
<dt><code>show cache</code>
<dd>FIXME
</dl>

<p><hr>
Node:Databases, Next:<a rel=next href="#Training">Training</a>, Previous:<a rel=previous href="#Analysis">Analysis</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Databases"></a><a name="TOC_28"></a>Position Databases</h1>

<dl>
<dt><code>database dump</code>
<dt><code>database evaluate</code>
<dt><code>database generate</code>
<dd>FIXME
<br><dt><code>database train</code>
<dt><code>train database</code>
<dd>FIXME pointer only
</dl>

<p><hr>
Node:Training, Next:<a rel=next href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>, Previous:<a rel=previous href="#Databases">Databases</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Training"></a><a name="TOC_29"></a>Modifying gnubg's Neural Nets</h1>

<dl>
<dt><code>save weights <var>file</var></code>
<dt><code>load weights <var>file</var></code>
<dt><code>database train</code>
<dt><code>train database</code>
<dd>FIXME
</dl>

<p><hr>
Node:Frequently Asked Questions, Next:<a rel=next href="#Command%20Index">Command Index</a>, Previous:<a rel=previous href="#Training">Training</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Frequently%20Asked%20Questions"></a><a name="TOC_30"></a>Frequently Asked Questions</h1>

<ul>
<li><a href="#Where%20can%20I%20get%20GNU%20Backgammon?">Where can I get GNU Backgammon?</a>: :

<li><a href="#How%20do%20I%20play%20a%20game?">How do I play a game?</a>: :

<li><a href="#gnubg.bd%20errors">gnubg.bd errors</a>: :

<li><a href="#gnubg.weights%20errors">gnubg.weights errors</a>: :

<li><a href="#Black%20and%20white%20board%20window">Black and white board window</a>: :
</ul>

<p><hr>
Node:Where can I get GNU Backgammon?, Next:<a rel=next href="#How%20do%20I%20play%20a%20game?">How do I play a game?</a>, Up:<a rel=up href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<p>

<h2><a name="Where%20can%20I%20get%20GNU%20Backgammon?"></a><a name="TOC_31"></a>Where can I get GNU Backgammon?</h2>

<p>Pre-release snapshots of GNU Backgammon are periodically made available
for FTP at <a href="ftp://alpha.gnu.org/gnu/gnubg/">ftp://alpha.gnu.org/gnu/gnubg/</a>.

<p>If you want to experiment with the very latest code, the development
sources are kept in a CVS repository at
<a href="http://subversions.gnu.org/cgi-bin/cvsweb/gnubg/">http://subversions.gnu.org/cgi-bin/cvsweb/gnubg/</a>; see the gnubg
web page at <a href="http://www.gnu.org/software/gnubg/gnubg.html">http://www.gnu.org/software/gnubg/gnubg.html</a> for
instructions on checking out sources from the repository.

<p><hr>
Node:How do I play a game?, Next:<a rel=next href="#gnubg.bd%20errors">gnubg.bd errors</a>, Previous:<a rel=previous href="#Where%20can%20I%20get%20GNU%20Backgammon?">Where can I get GNU Backgammon?</a>, Up:<a rel=up href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<p>

<h2><a name="How%20do%20I%20play%20a%20game?"></a><a name="TOC_32"></a>How do I play a game?</h2>

<p>Once you are running gnubg, enter <kbd>new game</kbd> at the <code>(gnubg)</code>
prompt to start a game against the computer opponent.  You should now
see a board (if an X display is available, gnubg will use a graphical
board window; otherwise, it will display an ASCII board on your
terminal).  If gnubg won the opening roll, it will have moved; you can
now type <kbd>roll</kbd> (or click on the dice below the board if you are
using X) to roll the dice yourself.  In either case, it will now be your
move; you should enter the moves for each chequer as pairs of numbers. 
For instance, if you have rolled 3 and 1, you could type <kbd>8 5 6 5</kbd>
to move one chequer from the 8 point to the 5 point and another from
the 6 point to the 5 point.  Use <kbd>bar</kbd> to move from the bar, and
<kbd>off</kbd> to bear off.  If you are using the X board window, you
can also drag chequers around the board with mouse button 1.  Click on
the dice when you have finished.

<p><hr>
Node:gnubg.bd errors, Next:<a rel=next href="#gnubg.weights%20errors">gnubg.weights errors</a>, Previous:<a rel=previous href="#How%20do%20I%20play%20a%20game?">How do I play a game?</a>, Up:<a rel=up href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<p>

<h2><a name="gnubg.bd%20errors"></a><a name="TOC_33"></a>I only see <code>gnubg.bd: No such file or directory</code>.  What's wrong?</h2>

<p>The file <code>gnubg.bd</code> is the bearoff database that gnubg uses to
evaluate endgame positions.  gnubg will look for it first in the current
directory and then in the installed directory (<code>/usr/local/share/gnubg/</code>
by default).

<p>The gnubg distribution is set up to create <code>gnubg.bd</code> by itself
during compilation, but it can be a slow process (taking half an hour
or more, depending on the speed of your computer).  If you would rather
not wait to generate the database yourself, you can obtain a copy
via FTP from <a href="ftp://alpha.gnu.org/gnu/gnubg/gnubg.bd.gz">ftp://alpha.gnu.org/gnu/gnubg/gnubg.bd.gz</a>.

<p><hr>
Node:gnubg.weights errors, Next:<a rel=next href="#Black%20and%20white%20board%20window">Black and white board window</a>, Previous:<a rel=previous href="#gnubg.bd%20errors">gnubg.bd errors</a>, Up:<a rel=up href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<p>

<h2><a name="gnubg.weights%20errors"></a><a name="TOC_34"></a>Now I get <code>gnubg.weights: No such file or directory</code>.  What's that?</h2>

<p>The file <code>gnubg.weights</code> contains the trained neural net weights
for most of gnubg's position evaluators.  Like <code>gnubg.bd</code>, it should
be kept in either the current directory or the installed directory.

<p>You should be able to obtain a copy from wherever you found the gnubg
distribution.  Future releases of gnubg will allow you to start without
any existing weights at all, if you want to train your own.

<p><hr>
Node:Black and white board window, Previous:<a rel=previous href="#gnubg.weights%20errors">gnubg.weights errors</a>, Up:<a rel=up href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<p>

<h2><a name="Black%20and%20white%20board%20window"></a><a name="TOC_35"></a>The board window is shown in black and white and looks awful!  What's wrong?</h2>

<p>If you see this problem, your X server is probably using a
<dfn>PseudoColor</dfn> visual, and is dynamically allocating colours
to clients from a limited colourmap.  On these types of displays,
gnubg tries to be a well-behaved client by using colours from the
default standard colourmap.  This will allow it to share colours
with other clients that use the same scheme, which will help them
all to use as many colours as possible without exhausting the
colourmap.

<p>Unfortunately, not all X clients use standard colourmaps.  If other
clients have been run before gnubg and allocated most of the colours,
then there may not be enough left for gnubg to allocate a standard
colourmap.  If this happens, it will just take what it can get (which
in the worst case might be black and white only).  You can try to
avoid this problem by running gnubg before other colour-hungry clients,
or by using the <code>xstdcmap</code> utility to install the default
standard colourmap early in your session while colours are still
available.  Depending on your hardware, you may be able to configure
your display to allow more colours, or use a <dfn>DirectColor</dfn> or
<dfn>TrueColor</dfn> visual which should resolve the problem.

<p>Of course, if your X server can only display black and white (not even
shades of grey), then there's not much you can do!

<p><hr>
Node:Command Index, Next:<a rel=next href="#Concept%20Index">Concept Index</a>, Previous:<a rel=previous href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Command%20Index"></a><a name="TOC_36"></a>Command Index</h1>

<h4>Menu</h4>
<ul compact>
<li><code>accept</code>: <a href="#Cube">Cube</a>
<li><code>accept</code>: <a href="#The%20Game">The Game</a>
<li><code>agree</code>: <a href="#The%20Game">The Game</a>
<li><code>beaver</code>: <a href="#Cube">Cube</a>
<li><code>!</code>: <a href="#Shell%20Commands">Shell Commands</a>
<li><code>?</code>: <a href="#Basic%20Commands">Basic Commands</a>
<li><code>database dump</code>: <a href="#Databases">Databases</a>
<li><code>database evaluate</code>: <a href="#Databases">Databases</a>
<li><code>database generate</code>: <a href="#Databases">Databases</a>
<li><code>database train</code>: <a href="#Training">Training</a>
<li><code>decline</code>: <a href="#The%20Game">The Game</a>
<li><code>double</code>: <a href="#Cube">Cube</a>
<li><code>drop</code>: <a href="#Cube">Cube</a>
<li><code>eval</code>: <a href="#Analysis">Analysis</a>
<li><code>exit</code>: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li><code>help</code>: <a href="#Basic%20Commands">Basic Commands</a>
<li><code>hint</code>: <a href="#The%20Game">The Game</a>
<li><code>load game</code>: <a href="#Recording">Recording</a>
<li><code>load match</code>: <a href="#Recording">Recording</a>
<li><code>load weights</code>: <a href="#Training">Training</a>
<li><code>move</code>: <a href="#The%20Game">The Game</a>
<li><code>new game</code>: <a href="#The%20Game">The Game</a>
<li><code>new match</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>new session</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>play</code>: <a href="#Computer%20Player">Computer Player</a>
<li><code>quit</code>: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li><code>redouble</code>: <a href="#Cube">Cube</a>
<li><code>reject</code>: <a href="#Cube">Cube</a>
<li><code>reject</code>: <a href="#The%20Game">The Game</a>
<li><code>resign</code>: <a href="#The%20Game">The Game</a>
<li><code>roll</code>: <a href="#Dice">Dice</a>
<li><code>rollout</code>: <a href="#Analysis">Analysis</a>
<li><code>save game</code>: <a href="#Recording">Recording</a>
<li><code>save match</code>: <a href="#Recording">Recording</a>
<li><code>save weights</code>: <a href="#Training">Training</a>
<li><code>set autobearoff</code>: <a href="#The%20Game">The Game</a>
<li><code>set autocrawford</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set autodoubles</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set autogame</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set automove</code>: <a href="#The%20Game">The Game</a>
<li><code>set autoroll</code>: <a href="#Dice">Dice</a>
<li><code>set board</code>: <a href="#The%20Game">The Game</a>
<li><code>set cache</code>: <a href="#Analysis">Analysis</a>
<li><code>set crawford</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set cube centre</code>: <a href="#Cube">Cube</a>
<li><code>set cube owner</code>: <a href="#Cube">Cube</a>
<li><code>set cube value</code>: <a href="#Cube">Cube</a>
<li><code>set dice</code>: <a href="#Dice">Dice</a>
<li><code>set display</code>: <a href="#The%20Game">The Game</a>
<li><code>set jacoby</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set player gnubg</code>: <a href="#Computer%20Player">Computer Player</a>
<li><code>set player human</code>: <a href="#The%20Game">The Game</a>
<li><code>set player name</code>: <a href="#The%20Game">The Game</a>
<li><code>set player plies</code>: <a href="#Computer%20Player">Computer Player</a>
<li><code>set player pubeval</code>: <a href="#Computer%20Player">Computer Player</a>
<li><code>set plies</code>: <a href="#Analysis">Analysis</a>
<li><code>set postcrawford</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set rng</code>: <a href="#Dice">Dice</a>
<li><code>set score</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>set turn</code>: <a href="#The%20Game">The Game</a>
<li><code>show autodoubles</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>show board</code>: <a href="#The%20Game">The Game</a>
<li><code>show cache</code>: <a href="#Analysis">Analysis</a>
<li><code>show copying</code>: <a href="#Basic%20Commands">Basic Commands</a>
<li><code>show crawford</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>show jacoby</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>show pipcount</code>: <a href="#The%20Game">The Game</a>
<li><code>show player</code>: <a href="#The%20Game">The Game</a>
<li><code>show postcrawford</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>show rng</code>: <a href="#Dice">Dice</a>
<li><code>show score</code>: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li><code>show turn</code>: <a href="#The%20Game">The Game</a>
<li><code>show warranty</code>: <a href="#Basic%20Commands">Basic Commands</a>
<li><code>take</code>: <a href="#Cube">Cube</a>
<li><code>train database</code>: <a href="#Training">Training</a>
</ul>
<p><hr>
Node:Concept Index, Previous:<a rel=previous href="#Command%20Index">Command Index</a>, Up:<a rel=up href="#Top">Top</a>
<p>

<h1><a name="Concept%20Index"></a><a name="TOC_37"></a>Index</h1>

<h4>Menu</h4>
<ul compact>
<li>analysis of positions: <a href="#Analysis">Analysis</a>
<li>backgammon: <a href="#How%20to%20Play%20Backgammon">How to Play Backgammon</a>
<li>backgammon rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>backgammons: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>bar: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>basic commands: <a href="#Basic%20Commands">Basic Commands</a>
<li>bearing off: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>blot: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>board setup: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>cancelling commands: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li><code>gnubg.bd</code>: <a href="#gnubg.bd%20errors">gnubg.bd errors</a>
<li><code>gnubg.weights</code>: <a href="#gnubg.weights%20errors">gnubg.weights errors</a>
<li>command line options: <a href="#Invoking%20gnubg">Invoking gnubg</a>
<li>commands, basic: <a href="#Basic%20Commands">Basic Commands</a>
<li>commands, playing: <a href="#Playing">Playing</a>
<li>computer player: <a href="#Computer%20Player">Computer Player</a>
<li>Crawford rule: <a href="#Match%20Play">Match Play</a>
<li>cube, doubling: <a href="#Cube">Cube</a>
<li>cube owner: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>databases: <a href="#Databases">Databases</a>
<li>dice: <a href="#Dice">Dice</a>
<li>doubling, commands: <a href="#Cube">Cube</a>
<li>doubling cube: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>doubling, rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>enter: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>entering: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>errors starting gnubg: <a href="#gnubg.weights%20errors">gnubg.weights errors</a>
<li>errors starting gnubg: <a href="#gnubg.bd%20errors">gnubg.bd errors</a>
<li>escapes, shell: <a href="#Shell%20Commands">Shell Commands</a>
<li>exiting gnubg: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li>FAQ: <a href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<li>FIBS: <a href="#Introduction">Introduction</a>
<li>frequently asked questions: <a href="#Frequently%20Asked%20Questions">Frequently Asked Questions</a>
<li>game commands: <a href="#The%20Game">The Game</a>
<li>games, saving: <a href="#Recording">Recording</a>
<li>gammons: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>gnubg, making moves: <a href="#Computer%20Player">Computer Player</a>
<li>hitting: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>home board: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>interrupting gnubg: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li>introduction: <a href="#Introduction">Introduction</a>
<li>invoking gnubg: <a href="#Invoking%20gnubg">Invoking gnubg</a>
<li>irregularities: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>leaving gnubg: <a href="#Leaving%20gnubg">Leaving gnubg</a>
<li>matches: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li>matches, saving: <a href="#Recording">Recording</a>
<li>match rules: <a href="#Match%20Play">Match Play</a>
<li>moving chequers, commands: <a href="#How%20do%20I%20play%20a%20game?">How do I play a game?</a>
<li>moving chequers, rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>neural nets, training: <a href="#Training">Training</a>
<li>object of the game: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>obtaining gnubg: <a href="#Where%20can%20I%20get%20GNU%20Backgammon?">Where can I get GNU Backgammon?</a>
<li>open point: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>optional rules: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>outer board: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>pips: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>playing a game: <a href="#How%20do%20I%20play%20a%20game?">How do I play a game?</a>
<li>playing commands: <a href="#Playing">Playing</a>
<li>points: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>position analysis: <a href="#Analysis">Analysis</a>
<li>position databases: <a href="#Databases">Databases</a>
<li>recording matches: <a href="#Recording">Recording</a>
<li>rolls, dice: <a href="#Dice">Dice</a>
<li>rules, optional: <a href="#Rules%20of%20Backgammon">Rules of Backgammon</a>
<li>running gnubg: <a href="#Invoking%20gnubg">Invoking gnubg</a>
<li>sample game: <a href="#Sample%20Game">Sample Game</a>
<li>saving matches: <a href="#Recording">Recording</a>
<li>sessions: <a href="#Matches%20and%20Sessions">Matches and Sessions</a>
<li>shell commands: <a href="#Shell%20Commands">Shell Commands</a>
<li>starting gnubg: <a href="#Invoking%20gnubg">Invoking gnubg</a>
<li>training: <a href="#Training">Training</a>
</ul>

<h1>Table of Contents</h1>
<ul>
<li><a href="#TOC_0">GNU Backgammon</a>
<li><a href="#TOC_1">Introduction</a>
<li><a href="#TOC_2">How to Play Backgammon</a>
<ul>
<li><a href="#TOC_3">Rules of Backgammon</a>
<ul>
<li><a href="#TOC_4">Setup</a>
<li><a href="#TOC_5">Object of the Game</a>
<li><a href="#TOC_6">Movement of the Checkers</a>
<li><a href="#TOC_7">Hitting and Entering</a>
<li><a href="#TOC_8">Bearing Off</a>
<li><a href="#TOC_9">Doubling</a>
<li><a href="#TOC_10">Gammons and Backgammons</a>
<li><a href="#TOC_11">Optional Rules</a>
<li><a href="#TOC_12">Irregularities</a>
</ul>
<li><a href="#TOC_13">Rules for Match Play</a>
</ul>
<li><a href="#TOC_14">Sample Game</a>
<li><a href="#TOC_15">Starting and Leaving gnubg</a>
<ul>
<li><a href="#TOC_16">Invoking gnubg</a>
<li><a href="#TOC_17">Leaving gnubg</a>
<li><a href="#TOC_18">Shell Commands</a>
</ul>
<li><a href="#TOC_19">Basic Commands</a>
<li><a href="#TOC_20">Playing Backgammon with gnubg</a>
<ul>
<li><a href="#TOC_21">Commands Used During the Game</a>
<li><a href="#TOC_22">Controlling Dice Rolls</a>
<li><a href="#TOC_23">Having gnubg Make Moves</a>
<li><a href="#TOC_24">Matches and Sessions</a>
<li><a href="#TOC_25">The Doubling Cube</a>
<li><a href="#TOC_26">Saving Games and Matches</a>
</ul>
<li><a href="#TOC_27">Using gnubg to Analyse Positions</a>
<li><a href="#TOC_28">Position Databases</a>
<li><a href="#TOC_29">Modifying gnubg's Neural Nets</a>
<li><a href="#TOC_30">Frequently Asked Questions</a>
<ul>
<li><a href="#TOC_31">Where can I get GNU Backgammon?</a>
<li><a href="#TOC_32">How do I play a game?</a>
<li><a href="#TOC_33">I only see <code>gnubg.bd: No such file or directory</code>.  What's wrong?</a>
<li><a href="#TOC_34">Now I get <code>gnubg.weights: No such file or directory</code>.  What's that?</a>
<li><a href="#TOC_35">The board window is shown in black and white and looks awful!  What's wrong?</a>
</ul>
<li><a href="#TOC_36">Command Index</a>
<li><a href="#TOC_37">Index</a>
</ul>
<hr><h4>Footnotes</h4>
<ol type="1">
<li><a name="fn-1"></a>
<p>Note that the probability of winning includes the
probability of winning a gammon or backgammon, and likewise the gammon
probabilities include the backgammon probabilities.</p>

</ol><hr>

</body></html>

